"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}var _createClass=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}(),_get=function(t,e,s){for(var i=!0;i;){var n=t,a=e,o=s;r=h=c=void 0,i=!1,null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,a);if(void 0!==r){if("value"in r)return r.value;var c=r.get;return void 0===c?void 0:c.call(o)}var h=Object.getPrototypeOf(n);if(null===h)return void 0;t=h,e=a,s=o,i=!0}},Lunbo=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.jump=this.jump.bind(this),this.back=this.back.bind(this),this.move=this.move.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.state={imgItems:this.props.items||[],selected:0,touchPage:0,change:0}}return _inherits(e,t),_createClass(e,[{key:"jump",value:function(){var t=this.state.selected,e=this.state.imgItems.length,s=$(window).width(),i=t+1;i>=e&&(i-=e),$(".imgul li").each(function(e,n){e==t?($(this).css("z-index","10"),$(this).css("transform","translate3d("+-s+"px, 0px, 0px)"),$(this).css("transition","all 300ms ease")):e==i?($(this).css("z-index","10"),$(this).css("transform","translate3d(0px, 0px, 0px)"),$(this).css("transition","all 300ms ease")):($(this).css("z-index","9"),$(this).css("transform","translate3d("+s+"px, 0px, 0px)"),$(this).css("transition","all 0ms ease"))}),this.setState({selected:i})}},{key:"back",value:function(){var t=this.state.selected,e=this.state.imgItems.length,s=$(window).width(),i=t-1;0>i&&(i=e-1),$(".imgul li").each(function(e,n){e==t?($(this).css("z-index","10"),$(this).css("transform","translate3d("+s+"px, 0px, 0px)"),$(this).css("transition","all 300ms ease")):e==i?($(this).css("z-index","10"),$(this).css("transform","translate3d(0px, 0px, 0px)"),$(this).css("transition","all 300ms ease")):($(this).css("z-index","9"),$(this).css("transform","translate3d("+-s+"px, 0px, 0px)"),$(this).css("transition","all 0ms ease"))}),this.setState({selected:i})}},{key:"move",value:function(t){var e=$(window).width();-e/4>t?this.jump():t>e/4&&this.back()}},{key:"componentDidMount",value:function(){$(".imgul li").css("width",$(window).width());var t=this.props.rate;t||(t=.3125);var e=t*$(window).width();$(".imgul").css("height",e);var s=this.state.imgItems.length,i=$(window).width();$(".imgul li").each(function(t,e){0==t?$(this).css("z-index","10"):1==t?($(this).css("transform","translate3d("+i+"px, 0px, 0px)"),$(this).css("transition","all 0ms ease")):t==s-1?($(this).css("z-index","10"),$(this).css("transform","translate3d("+-i+"px, 0px, 0px)"),$(this).css("transition","all 0ms ease")):($(this).css("z-index","9"),$(this).css("transform","translate3d("+i+"px, 0px, 0px)"),$(this).css("transition","all 0ms ease"))}),this.state.imgItems.length>1&&(this.timer=setInterval(this.jump,1500))}},{key:"onTouchStart",value:function(t){if(!(this.state.imgItems.length<=1)){this.timer&&clearInterval(this.timer);var e=t.targetTouches[0],s=e.pageX;this.setState({touchPage:s,change:0})}}},{key:"onTouchMove",value:function(t){if(!(this.state.imgItems.length<=1)){var e=t.targetTouches[0].pageX,s=this.state.touchPage,i=e-s;this.setState({change:i})}}},{key:"onTouchEnd",value:function(t){if(!(this.state.imgItems.length<=1)){var e=this.state.change;this.move(e)}}},{key:"render",value:function(){var t=this;return React.createElement("div",{className:"flashWrap"},React.createElement("ul",{className:"imgul",onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd},this.state.imgItems.map(function(t){return React.createElement(FlashImgLi,{item:t})})),React.createElement("div",{className:"pointul"},this.state.imgItems.map(function(e,s){return React.createElement(FlashPointLi,{selected:t.state.selected,index:s})})))}}]),e}(React.Component),FlashImgLi=function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"componentDidMount",value:function(){$(".imgul li").css("width",$(window).width()),$(".imgul li img").css("width",$(window).width())}},{key:"render",value:function(){var t=this.props.item.img;return React.createElement("li",{className:"pull-left"},React.createElement("a",{href:this.props.item.href||"javascript:void(0)"},React.createElement("img",{src:t,className:"img-responsive",alt:""})))}}]),e}(React.Component),FlashPointLi=function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"render",value:function(){var t="";return this.props.selected==this.props.index&&(t="on"),React.createElement("span",{className:t})}}]),e}(React.Component);