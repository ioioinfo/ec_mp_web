"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),Lunbo=function(t){function e(t){_classCallCheck(this,e);var n=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.jump=n.jump.bind(n),n.move=n.move.bind(n),n.onTouchStart=n.onTouchStart.bind(n),n.onTouchMove=n.onTouchMove.bind(n),n.onTouchEnd=n.onTouchEnd.bind(n),n.state={items:[],selected:1,touchPage:0,change:0,changeall_one:0,changeall_two:0},n}return _inherits(e,t),_createClass(e,[{key:"jump",value:function t(){var e=this.state.widthUl/3;this.move(-e-1)}},{key:"move",value:function t(e){var n=this.state.items.length,o=this.state.widthUl;e=e>50?o:e<-50?-o:0;var s=this.state.changeall_one+e,a=this.state.changeall_two+e,i=o*n;s<-i&&(s+=2*i),s>=i&&(s-=2*i),a<-i&&(a+=2*i),a>=i&&(a-=2*i);var l=Math.round(s/o),c=Math.round(a/o),r=0;l<=0?r=l:c<0&&(r=c),(r=Math.abs(r))==n&&(r=0);var u=this.state.items[r].id;this.setState({changeall_one:s,changeall_two:a,selected:u});var h=$(".lunbo_ul_one").position().left,_=$(".lunbo_ul_two").position().left;Math.abs(s-h)<=o?$(".lunbo_ul_one").animate({left:s},500):$(".lunbo_ul_one").css("left",s),Math.abs(a-_)<=o?$(".lunbo_ul_two").animate({left:a},500):$(".lunbo_ul_two").css("left",a)}},{key:"componentDidMount",value:function t(){var e=this.props.items.length,n=$(window).width();this.setState({widthUl:n});var o=-e*n;$(".lunbo_ul_two").css("left",o),this.setState({items:this.props.items,widthUl:n,changeall_two:o})}},{key:"onTouchStart",value:function t(e){var n=e.targetTouches[0],o=e.targetTouches[0].pageX;this.setState({touchPage:o})}},{key:"onTouchMove",value:function t(e){e.preventDefault();var n=e.targetTouches[0],o=this.state.touchPage,s=n.pageX-o,a=this.state.changeall_one+s,i=this.state.changeall_two+s;this.setState({change:s});var l=this.state.items.length,c=this.state.widthUl,r=c*l;a<-r&&(a+=2*r),a>=r&&(a-=2*r),i<-r&&(i+=2*r),i>=r&&(i-=2*r)}},{key:"onTouchEnd",value:function t(e){var n=this.state.widthUl,o=this.state.change;this.move(o)}},{key:"render",value:function t(){var e=this,n=this.state.items.length,o=this.state.widthUl;return $(".lunbo_ul").css("width",n*o),$(".lunbo").css("width",o),React.createElement("div",{className:"lunbo"},React.createElement("ul",{className:"lunbo_ul lunbo_ul_one",onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd},this.state.items.map(function(t){return React.createElement(LunboLI,{item:t,setSelected:e.setSelected,selected:e.state.selected})})),React.createElement("ul",{className:"lunbo_ul lunbo_ul_two",onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd},this.state.items.map(function(t){return React.createElement(LunboLI,{item:t,setSelected:e.setSelected,selected:e.state.selected})})),React.createElement("div",{className:"lunbo_dian"},this.state.items.map(function(t){return React.createElement(Lunbo_dian,{item:t,selected:e.state.selected})})))}}]),e}(React.Component),LunboLI=function(t){function e(t){_classCallCheck(this,e);var n=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={show:!1},n}return _inherits(e,t),_createClass(e,[{key:"render",value:function t(){$(".lunbo_ul li").css("width",$(window).width()),$(".lunbo_ul li img").css("width",$(window).width());var e="";return this.props.selected==this.props.item.id&&(e="on"),React.createElement("li",{className:e},React.createElement("a",{href:this.props.item.href},React.createElement("img",{src:this.props.item.img,alt:""})))}}]),e}(React.Component),Lunbo_dian=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"render",value:function t(){var e="";return this.props.selected==this.props.item.id&&(e="on"),React.createElement("span",{className:e})}}]),e}(React.Component);