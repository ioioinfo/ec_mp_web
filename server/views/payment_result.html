<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
        <meta name="format-detection" content="telephone=no" />
        <title>支付结果</title>
        <link rel="stylesheet" href="css/reset.css">
        <link rel="stylesheet" href="css/jinping.css">
        <script src="{{static_host}}/jquery-3.1.1.min.js"type="text/javascript"></script>
        <script src="{{static_host}}/react.min.js"></script>
        <script src="{{static_host}}/react-dom.min.js"></script>
        <script src="{{static_host}}/browser.min.js"></script>
        <script src="js/jinzhi.js"></script>
        <style media="screen">
        @media screen and (max-width:768px){
            body,html{
                background: #ededed;
                height: 100%;
                width: 100%;
            }
            #recharged{
                height: 100%;
            }
            .header{
                width: 100%;
                height: 46px;
                font-size: 0;
                position: relative;
                overflow: hidden;
                background: #FAFAFA;
            }
            .jiantou{
                display: inline-block;
                width: 32px;
                height: 32px;
                position: absolute;
                left: 10px;
                top: 7px;
            }
            .jiantou img{
                width: 20px;
                height: 20px;
                margin-top: 6px;
            }
            .title{
                display:block;
                width: 200px;
                line-height: 46px;
                font-size: 16px;
                margin: 0 auto;
                text-align: center;
            }
            .menu{
                width: 32px;
                display: inline-block;
                position: absolute;
                right: 10px;
                top: 13px;
            }
            .title span{
                color: #D81E06;
            }
            .recharged_infor{
                position: relative;
            }
            .recharged_infor_remind{
                width:100%;
                height: 166px;
                line-height: 166px;
                background:#70B42C;
                text-align: center;
            }
            .recharged_img img{
                width: 40px;
                height: 40px;
                margin-top: 34px;
            }
            .recharged_money{
                font-size: 18px;
                color: #fff;
                font-weight: 600;
            }
            .recharged_reason{
                font-size: 12px;
            }
            .recharged_ok{
                width: 100%;
                height: 42px;
                line-height: 42px;
                text-align: center;
                border-radius: 4px;
                background: #fff;
                color: #92A0AF;
                display: flex;
            }
            .recharged_ok p{
                flex: 1;

            }
            .recharged_ok p:first-child{
                box-sizing: border-box;
                border-right: 1px solid #92A0AF;
            }
            .smile{
                width: 60px;
                height: 60px;
                position: absolute;
                top: 135px;
                left: 42%;
            }
            .smile img{
                width: 60px;
                height: 60px;
            }
            .person_center{
                width: 50%;
                margin: 0 auto;
                font-size: 12px;
                height: 27px;
                line-height: 27px;
                text-align: center;
                color: #728597;
                background: #fff;
                border-radius: 4px;
                margin-top: 200px;
            }
        }

        </style>
    </head>
    <body>
        <div id="recharged"></div>
        <script type="text/babel">
        class Wrap extends React.Component {
          render() {
              return (
                <div className="wrap">
                  <Header/>
                  <RechargedInfor/>
                </div>
              );
          }
        };
        // 头部
        class Header extends React.Component {
          render() {
              return (
                <div className="header">
                  <span className="jiantou"><img src="images/jiantou.png" alt="" /></span>
                  <span className="title">支付成功</span>
                  <span className="menu"><img src="images/shouye1.png" alt="" /></span>
                </div>
              );
          }
        };
        // 充值成功提醒
        class RechargedInfor extends React.Component {
          render() {
              return (
                <div className="recharged_infor">
                    <div className="recharged_infor_remind">
                        <p className="recharged_money">支付成功，耐心等待商品送达...</p>
                    </div>
                    <div className="recharged_ok">
                        <p>订单详情</p><p>返回首页</p>
                    </div>
                    <p className="smile"><img src="images/smile.png" alt="" /></p>
                    <p className="person_center">转入商品分类</p>
                </div>
              );
          }
        };
        // 返回到页面
        ReactDOM.render(
          <Wrap/>,
          document.getElementById("recharged")
        );
        </script>
        <script>
            $.ajax({
				url: "/payment_back",
				dataType: 'json',
                data : {"order_id":"{{order_id}}"},
				type: 'POST',
				success: function(data) {
					if (data.success) {
                        location.href = data.url;
					}else {
					    alert(data.message);
					}
				},
				error: function(xhr, status, err) {
				}
			});
        </script>
    </body>
</html>
